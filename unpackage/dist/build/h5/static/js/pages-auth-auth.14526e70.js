(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-auth-auth"],{"094c":function(n,e,i){"use strict";var t,o=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("v-uni-view",{staticClass:"auth"},[t("v-uni-image",{staticClass:"img",attrs:{src:i("561a"),mode:"aspectFill"}}),t("v-uni-view",{staticClass:"title"},[n._v("微信授权页面")]),t("v-uni-view",{staticClass:"describe"},[n._v("此页面是微信授权页面，点击下方按钮弹出授权或跳转页面")]),t("v-uni-button",{staticClass:"btn",on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.appLoginqx.apply(void 0,arguments)}}},[n._v("取消")]),t("v-uni-button",{staticClass:"btn",attrs:{"open-type":"getUserInfo",lang:"zh_CN"},on:{getuserinfo:function(e){arguments[0]=e=n.$handleEvent(e),n.appLoginWx.apply(void 0,arguments)}}},[n._v(n._s(""!=n.loginInfo.openid&&void 0!=n.loginInfo.openid?"已授权":"授权"))])],1)},a=[];i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return t}))},"0e5e":function(n,e,i){"use strict";var t=i("c7d8"),o=i.n(t);o.a},"561a":function(n,e,i){n.exports=i.p+"static/img/wx.84c5215e.png"},"75ea":function(n,e,i){var t=i("24fb");e=t(!1),e.push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* 开始 */uni-page-body[data-v-0e3a786b]{height:100%;display:table}.auth[data-v-0e3a786b]{margin-top:0;text-align:center;display:table-cell;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:start;-webkit-align-items:flex-start;align-items:flex-start;padding:%?100?%;vertical-align:middle}.img[data-v-0e3a786b]{border-radius:50%;border:1px solid #fff;background-color:#fff;margin:0 0 %?60?%;display:inline-block;width:%?200?%;height:%?200?%;line-height:0}.title[data-v-0e3a786b]{display:inline-block;width:100%;margin:0 0 %?60?%}.describe[data-v-0e3a786b]{color:#a7aaa9;font-size:%?26?%;margin:0 0 %?60?%;border-radius:50%;text-align:center;display:inline-block;width:100%}.btn[data-v-0e3a786b]{padding:0 %?60?%;background-color:#19be6b;margin:%?20?% %?10?% %?200?%;text-align:center;vertical-align:middle;touch-action:manipulation;cursor:pointer;background-image:none;white-space:nowrap;-webkit-user-select:none;user-select:none;font-size:14px;border:0!important;position:relative;text-decoration:none;height:44px;line-height:44px;-webkit-box-shadow:inset 0 0 0 1px #19be6b;box-shadow:inset 0 0 0 1px #19be6b;background:#fff!important;color:#19be6b!important;display:inline-block;border-radius:%?10?%}",""]),n.exports=e},b1d2:function(n,e,i){"use strict";i.r(e);var t=i("094c"),o=i("e77a");for(var a in o)"default"!==a&&function(n){i.d(e,n,(function(){return o[n]}))}(a);i("0e5e");var c,r=i("f0c5"),s=Object(r["a"])(o["default"],t["b"],t["c"],!1,null,"0e3a786b",null,!1,t["a"],c);e["default"]=s.exports},c7d8:function(n,e,i){var t=i("75ea");"string"===typeof t&&(t=[[n.i,t,""]]),t.locals&&(n.exports=t.locals);var o=i("4f06").default;o("400e4478",t,!0,{sourceMap:!1,shadowMode:!1})},c934:function(n,e,i){"use strict";i("c975"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={data:function(){return{}},onLoad:function(){this.checkToken()},methods:{appLoginqx:function(){uni.switchTab({url:"../index/index"})},checkToken:function(){uni.getSetting({success:function(n){console.log("授权：",n),n.authSetting["scope.userInfo"]?(console.log("当前已授权"),uni.switchTab({url:"../index/index"})):console.log("当前未授权")}})},appLoginWx:function(){var n=this;uni.getProvider({service:"oauth",success:function(e){~e.provider.indexOf("weixin")?uni.login({provider:"weixin",success:function(e){uni.getUserInfo({provider:"weixin",success:function(i){console.log(i,e);var t=e.code,o=i.userInfo.nickName,a=i.userInfo.avatarUrl;n.$api.auth.login(t,a,o),uni.switchTab({url:"../index/index"})},fail:function(){uni.showToast({title:"微信登录授权失败",icon:"none"})}})},fail:function(){uni.showToast({title:"微信登录授权失败",icon:"none"})}}):uni.showToast({title:"请先安装微信或升级版本",icon:"none"})}})}}};e.default=t},e77a:function(n,e,i){"use strict";i.r(e);var t=i("c934"),o=i.n(t);for(var a in t)"default"!==a&&function(n){i.d(e,n,(function(){return t[n]}))}(a);e["default"]=o.a}}]);