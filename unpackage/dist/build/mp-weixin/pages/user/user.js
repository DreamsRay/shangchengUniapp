(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/user"],{"62f6":function(n,e,t){"use strict";t.r(e);var o=t("948a"),i=t.n(o);for(var c in o)"default"!==c&&function(n){t.d(e,n,(function(){return o[n]}))}(c);e["default"]=i.a},"670f":function(n,e,t){"use strict";var o,i=function(){var n=this,e=n.$createElement;n._self._c},c=[];t.d(e,"b",(function(){return i})),t.d(e,"c",(function(){return c})),t.d(e,"a",(function(){return o}))},"88f7":function(n,e,t){"use strict";var o=t("e426"),i=t.n(o);i.a},"948a":function(n,e,t){"use strict";(function(n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t("2f62");function i(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,o)}return t}function c(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?i(Object(t),!0).forEach((function(e){r(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function r(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var s=function(){t.e("components/mix-list-cell").then(function(){return resolve(t("f7e9"))}.bind(null,t)).catch(t.oe)},a=function(){Promise.all([t.e("common/vendor"),t.e("components/s-popup/index")]).then(function(){return resolve(t("e791"))}.bind(null,t)).catch(t.oe)},u=0,f=0,l=!0,v={components:{listCell:s,sPopup:a},data:function(){return{coverTransform:"translateY(0px)",coverTransition:"0s",moving:!1,user:{},visible:!1}},onLoad:function(){this.checkToken()},onShow:function(){this.getuser()},computed:c({},(0,o.mapState)(["hasLogin","userInfo"])),methods:{getuser:function(){var n=this;this.$api.auth.identify().then((function(e){console.log(e),n.user=e}))},getImg:function(){n.getImageInfo({src:"../../static/temp/index/er.png",success:function(e){console.log("图片信息：",JSON.stringify(e)),n.saveImageToPhotosAlbum({filePath:e.path,success:function(){console.log("save success"),n.showToast({title:"图片保存成功",icon:"none",duration:2200})}})}})},relation:function(){this.visible=!0},checkToken:function(){n.getSetting({success:function(n){console.log("授权：",n),n.authSetting["scope.userInfo"]?console.log("当前已授权"):console.log("当前未授权")}})},appLoginWx:function(){var e=this;n.getProvider({service:"oauth",success:function(t){~t.provider.indexOf("weixin")?n.login({provider:"weixin",success:function(t){n.getUserInfo({provider:"weixin",success:function(o){console.log(o);var i=t.code,c=o.userInfo.nickName,r=o.userInfo.avatarUrl;e.$api.auth.login(i,r,c),n.switchTab({url:"../index/index"})},fail:function(){n.showToast({title:"微信登录授权失败",icon:"none"})}})},fail:function(){n.showToast({title:"微信登录授权失败",icon:"none"})}}):n.showToast({title:"请先安装微信或升级版本",icon:"none"})}})},navToRecharge:function(e){console.log(e);var t=e;n.navigateTo({url:"/pages/user/recharge?id=".concat(t)})},navToBalance:function(e){console.log(e);var t=e;n.navigateTo({url:"/pages/user/balance?id=".concat(t)})},navTo:function(e){this.hasLogin||(e="/pages/public/login"),n.navigateTo({url:e})},coverTouchstart:function(n){!1!==l&&(this.coverTransition="transform .1s linear",u=n.touches[0].clientY)},coverTouchmove:function(n){f=n.touches[0].clientY;var e=f-u;e<0?this.moving=!1:(this.moving=!0,e>=80&&e<100&&(e=80),e>0&&e<=80&&(this.coverTransform="translateY(".concat(e,"px)")))},coverTouchend:function(){!1!==this.moving&&(this.moving=!1,this.coverTransition="transform 0.3s cubic-bezier(.21,1.93,.53,.64)",this.coverTransform="translateY(0px)")}}};e.default=v}).call(this,t("543d")["default"])},b49e:function(n,e,t){"use strict";(function(n){t("aead"),t("921b");o(t("66fd"));var e=o(t("fa7d"));function o(n){return n&&n.__esModule?n:{default:n}}n(e.default)}).call(this,t("543d")["createPage"])},e426:function(n,e,t){},fa7d:function(n,e,t){"use strict";t.r(e);var o=t("670f"),i=t("62f6");for(var c in i)"default"!==c&&function(n){t.d(e,n,(function(){return i[n]}))}(c);t("88f7");var r,s=t("f0c5"),a=Object(s["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],r);e["default"]=a.exports}},[["b49e","common/runtime","common/vendor"]]]);